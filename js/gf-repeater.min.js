function gfRepeater_getRepeaters(){var e,r=0,t=1,a=[],p=[];jQuery(".gfield").each(function(){if(0==r)jQuery(this).has(".gf-repeater-start").length&&(gfRepeater_debug&&console.log("Repeater #"+t+" - Start: "+jQuery(this).attr("id")),e=jQuery("#"+this.id+" input.gform_hidden"),r=1);else if(jQuery(this).has(".gf-repeater-end").length){gfRepeater_debug&&(console.log("Repeater #"+t+" - End: "+jQuery(this).attr("id")),console.log("Repeater #"+t+" - Children Found: "+a.length));var n=jQuery("#"+this.id+" .gf-repeater-end .gf-repeater-add"),i=jQuery("#"+this.id+" .gf-repeater-end .gf-repeater-remove");jQuery(n).attr("onClick","gfRepeater_repeatRepeater("+t+");"),jQuery(i).attr("onClick","gfRepeater_unrepeatRepeater("+t+");");var u=e.attr("data-start"),f=e.attr("data-min"),g=e.attr("data-max");u||(u=1),f||(f=1),f>g&&(g=null),gfRepeater_repeaters[t]={count:1,start:u,min:f,max:g,add:n,remove:i,data:e,children:a,childrenData:p},gfRepeater_updateDataElement(t),t+=1,a=[],p=[],r=0}else{a.push(jQuery(this));var s=jQuery(this).children(".gfield_label").text(),d=jQuery("#"+this.id+" .ginput_container").children().first().attr("id"),R=jQuery("#"+this.id+" .ginput_container").children().first().attr("name");gfRepeater_debug&&console.log("Repeater #"+t+" - Child Found: "+R),p.push({inputId:d,inputName:R,label:s})}}),gfRepeater_debug&&console.log("Repeaters Found: "+(t-1))}function gfRepeater_setRepeaterChildAttrs(e,r,t){if(!t)var t=gfRepeater_repeaters[r].count+1;var a=jQuery(e).attr("id"),p=a.split("-")[0]+"-"+r+"-"+t;jQuery(e).attr("id",p);var n=jQuery("#"+p+" .ginput_container").children().first(),i=jQuery(n).attr("name");if(i){var u=i.split("-")[0]+"-"+r+"-"+t;jQuery(n).attr("name",u)}var f=jQuery(n).attr("id");if(f){var g=f.split("-")[0]+"-"+r+"-"+t;jQuery(n).attr("id",g)}jQuery(e).children(".gfield_label").attr("for",g)}function gfRepeater_repeatRepeater(e){if(!(gfRepeater_repeaters[e].max&&gfRepeater_repeaters[e].count>=gfRepeater_repeaters[e].max)){var r=gfRepeater_repeaters[e].children[gfRepeater_repeaters[e].children.length-1];r=r.attr("id"),r=jQuery("#"+r.slice(0,-1)+gfRepeater_repeaters[e].count),jQuery.each(gfRepeater_repeaters[e].children,function(){var t=jQuery(this).clone(),a=jQuery(t).find(".ginput_container").children().first();jQuery(a).val(""),jQuery(t).insertAfter(r),gfRepeater_setRepeaterChildAttrs(jQuery(t),e),r=t}),gfRepeater_repeaters[e].count+=1,gfRepeater_updateDataElement(e),gfRepeater_updateRepeaterControls(e),gfRepeater_debug&&console.log("Repeater #"+e+" repeated")}}function gfRepeater_unrepeatRepeater(e,r){if(!(gfRepeater_repeaters[e].count<=gfRepeater_repeaters[e].min)){if(!r)var r=gfRepeater_repeaters[e].count;jQuery.each(gfRepeater_repeaters[e].children,function(){var e=jQuery(this).attr("id"),t=jQuery("#"+e.slice(0,-1)+r);jQuery(t).remove()}),gfRepeater_repeaters[e].count-=1,gfRepeater_updateDataElement(e),gfRepeater_updateRepeaterControls(e),gfRepeater_debug&&console.log("Repeater #"+e+" unrepeated")}}function gfRepeater_updateRepeaterControls(e){gfRepeater_repeaters[e].max&&(gfRepeater_repeaters[e].count==gfRepeater_repeaters[e].max?jQuery(gfRepeater_repeaters[e].add).hide():jQuery(gfRepeater_repeaters[e].add).show()),gfRepeater_repeaters[e].count==gfRepeater_repeaters[e].min?jQuery(gfRepeater_repeaters[e].remove).hide():jQuery(gfRepeater_repeaters[e].remove).show()}function gfRepeater_updateDataElement(e){var r=jQuery(gfRepeater_repeaters[e].data),t=JSON.stringify({repeaterId:e,repeatCount:gfRepeater_repeaters[e].count,childrenData:gfRepeater_repeaters[e].childrenData});jQuery(r).val(t)}function gfRepeater_start(){jQuery.each(gfRepeater_repeaters,function(e){var r=e;for(jQuery.each(gfRepeater_repeaters[r].children,function(){gfRepeater_setRepeaterChildAttrs(jQuery(this),r,1)}),i=0;i<gfRepeater_repeaters[r].start-1;i++)gfRepeater_repeatRepeater(r);gfRepeater_updateRepeaterControls(r)})}var gfRepeater_debug=!1,gfRepeater_repeaters={};jQuery(document).ready(function(){gfRepeater_getRepeaters(),gfRepeater_start()}),gfRepeater_debug&&jQuery(window).keydown(function(e){38==e.which&&console.table(gfRepeater_repeaters)});