function gfRepeater_getRepeaters(){var e,t,r,a=0,p=0,n=0,i=0,s={},u=[],o={};return jQuery(".gfield").each(function(){if(0==p){if(jQuery(this).has(".ginput_container_repeater").length){a+=1,gfRepeater_debug&&console.log("Repeater #"+a+" - Start: "+jQuery(this).attr("id")),t=jQuery(this),e=t.find(".gform_hidden"),r=e.attr("data-required"),r=r?r.split(","):[];var f=e.attr("data-prepopulate");f&&(o=JSON.parse(f)),p=1}}else{if(jQuery(this).has(".ginput_container_repeater").length)return!1;if(jQuery(this).has(".ginput_container_repeater-end").length){gfRepeater_debug&&(console.log("Repeater #"+a+" - End: "+jQuery(this).attr("id")),console.log("Repeater #"+a+" - Children Found: "+n));var d={},g=jQuery(this),l=g.find(".gf_repeater_add"),c=g.find(".gf_repeater_remove"),R="gfRepeater_repeatRepeater("+a+");",_="gfRepeater_unrepeatRepeater("+a+");";jQuery(l).attr({onclick:R,onkeypress:R}),jQuery(c).attr({onclick:_,onkeypress:_}),d={add:l,remove:c,data:e,start:t,end:g};var h={},y=Number(e.attr("data-start")),m=Number(e.attr("data-min")),j=Number(e.attr("data-max"));(!y||j&&y>j)&&(y=1),(!m||j&&m>j)&&(m=1),(!j||m&&j&&m>j)&&(j=null),h={start:y,min:m,max:j};var Q={},v=Number(e.attr("tabindex"));if(gfRepeater_submitted)var C=JSON.parse(jQuery.captures(e.attr("name"))).repeatCount;else var C=null;Q={repeatCount:1,prevRepeatCount:C,childrenCount:n,paremCount:i,tabIndex:v,inputData:u},gfRepeater_repeaters[a]={data:Q,settings:h,controllers:d,children:s},gfRepeater_updateDataElement(a),p=0,n=0,i=0,s={},u=[],o={},r=null}else{n+=1;var b,k=jQuery(this),I=(jQuery(this).children(".gfield_label").text(),jQuery(this).attr("id")),w=I.split("_")[2],x={},D=[],N=0,V=!1;if(jQuery(this).has(".ginput_container").length){var q=jQuery(this).find(".ginput_container").attr("class").split(/\s+/),A="ginput_container_";jQuery.each(q,function(e,t){t.slice(0,A.length)==A&&(b=t.slice(A.length,t.length))})}else jQuery(this).hasClass("gform_hidden")?b="hidden":jQuery(this).hasClass("gsection")&&(b="section");-1!==jQuery.inArray(w,r)&&(V=!0),gfRepeater_debug&&console.log("Repeater #"+a+" - Child #"+n+" - Found: "+I),jQuery(this).find(":input").each(function(){N+=1;var e,t=jQuery(this),r=jQuery(this).attr("id"),p=jQuery(this).attr("name"),s=gfRepeater_getInputValue(t),u={};p&&(-1==jQuery.inArray(p,D)&&D.push(p),e="[]"==p.slice(-2)?p.slice(0,p.length-2):p,o[e.split("_")[1]]&&(u=o[e.split("_")[1]],jQuery.each(u,function(e,t){e>i&&(i=Number(e))}))),x[N]={element:t,id:r,name:p,defaultValue:s,prePopulate:u},gfRepeater_debug&&console.log("Repeater #"+a+" - Child #"+n+" - Input Found: "+r)}),s[n]={element:k,id:I,idNum:w,inputs:x,inputCount:N,required:V,type:b},"section"==b&&(D="section"),u.push({id:w,value:D})}}}),gfRepeater_debug&&console.log("Repeaters Found: "+a),0!==p?!1:!0}function gfRepeater_setRepeaterChildAttrs(e,t,r){if(!r)var r=gfRepeater_repeaters[t].data.repeatCount+1;var a,p=jQuery(e).attr("id").split("-")[0];if(jQuery.each(gfRepeater_repeaters[t].children,function(e,t){return this.id==p?void(a=e):void 0}),a){var n=!1,i=gfRepeater_repeaters[t].children[a].required,s=gfRepeater_repeaters[t].children[a].type,u=gfRepeater_repeaters[t].children[a].inputCount,o=gfRepeater_repeaters[t].data.tabIndex,f=p+"-"+t+"-"+r;if(jQuery(e).attr("id",f),gfRepeater_replaceShortcodes(e),gfRepeater_doShortcode(e,"count",r),jQuery.each(gfRepeater_repeaters[t].children[a].inputs,function(a,p){var f=this.id,d=this.name,g=gfRepeater_findElementByIdOrName(e,f,d);if(f){var l=f+"-"+t+"-"+r;jQuery(g).attr("id",l),jQuery(e).find("label[for^='"+f+"']").attr("for",l)}if(d){if("[]"==d.slice(-2))var c=d.slice(0,d.length-2)+"-"+t+"-"+r+"[]";else var c=d+"-"+t+"-"+r;jQuery(g).attr("name",c),jQuery(g).attr("tabindex",o)}var R=jQuery(g).attr("data-mask");if(R&&jQuery(g).mask(R),this.prePopulate[r]?gfRepeater_setInputValue(g,this.prePopulate[r]):this.prePopulate[0]&&gfRepeater_setInputValue(g,this.prePopulate[0]),window.gformInitDatepicker&&"date"==s&&2==u&&1==a&&(jQuery(g).removeClass("hasDatepicker"),jQuery(g).datepicker("destroy"),jQuery(g).siblings(".ui-datepicker-trigger").remove()),gfRepeater_submitted){if(c){var _=jQuery.captures(c);_&&gfRepeater_setInputValue(g,_)}if(i){var h=c.replace(".","_").split(/(_|-)/);if("name"==s&&-1==jQuery.inArray(h[4],["3","6"]))return!0;if("address"==s&&-1!==jQuery.inArray(h[4],["2"]))return!0;var y=gfRepeater_getInputValue(g);!y&&r<=gfRepeater_repeaters[t].data.prevRepeatCount&&(n=!0)}}}),i){var d=e.children(".gfield_label");e.addClass("gfield_contains_required"),d.has(".gfield_required").length||d.append('<span class="gfield_required">*</span>'),gfRepeater_submitted&&(n?(e.addClass("gfield_error"),e.append('<div class="gfield_description validation_message">This field is required.</div>')):(e.removeClass("gfield_error"),e.find(".validation_message").remove()))}}}function gfRepeater_doShortcode(e,t,r){e.find(".gfRepeater-shortcode-"+t).each(function(){jQuery(this).html(r)})}function gfRepeater_replaceShortcodes(e){var t=["count"],r=e.html();jQuery.each(t,function(t,a){e.html(r.replace("[gfRepeater-"+a+"]",'<span class="gfRepeater-shortcode-'+a+'"></span>'))})}function gfRepeater_repeatRepeater(e){if(!(gfRepeater_repeaters[e].settings.max&&gfRepeater_repeaters[e].data.repeatCount>=gfRepeater_repeaters[e].settings.max)){jQuery(gfRepeater_repeaters[e].controllers.start).closest("form").trigger("beforeRepeat",[e,gfRepeater_repeaters[e].data.repeatCount+1]);var t=gfRepeater_repeaters[e].data.childrenCount,r=gfRepeater_repeaters[e].children[t].element;r=r.attr("id"),r=jQuery("#"+r.slice(0,-1)+gfRepeater_repeaters[e].data.repeatCount),jQuery.each(gfRepeater_repeaters[e].children,function(t,a){var p=jQuery(this.element).clone();gfRepeater_resetInputs(e,t,p),gfRepeater_setRepeaterChildAttrs(p,e),p.insertAfter(r),r=p}),gfRepeater_repeaters[e].data.repeatCount+=1,gfRepeater_updateDataElement(e),gfRepeater_updateRepeaterControls(e),window.gformInitDatepicker&&gformInitDatepicker(),jQuery(gfRepeater_repeaters[e].controllers.start).closest("form").trigger("afterRepeat",[e,gfRepeater_repeaters[e].data.repeatCount]),gfRepeater_debug&&console.log("Repeater #"+e+" - repeated")}}function gfRepeater_unrepeatRepeater(e,t){if(!(gfRepeater_repeaters[e].data.repeatCount<=gfRepeater_repeaters[e].settings.min)){if(!t)var t=gfRepeater_repeaters[e].data.repeatCount;jQuery(gfRepeater_repeaters[e].controllers.start).closest("form").trigger("beforeUnRepeat",[e,t]),jQuery.each(gfRepeater_repeaters[e].children,function(r,a){var p=jQuery("#"+this.id+"-"+e+"-"+t);jQuery(p).remove()}),gfRepeater_repeaters[e].data.repeatCount-=1,gfRepeater_updateDataElement(e),gfRepeater_updateRepeaterControls(e),jQuery(gfRepeater_repeaters[e].controllers.start).closest("form").trigger("afterUnRepeat",[e,t]),gfRepeater_debug&&console.log("Repeater #"+e+" - Child #"+t+" - unrepeated")}}function gfRepeater_repeatRepeaterTimes(e,t){if(!t)var t=1;for(i=0;i<t;i++)gfRepeater_repeatRepeater(e)}function gfRepeater_unrepeatRepeaterTimes(e,t){if(!t)var t=1;for(i=0;i<t;i++)gfRepeater_unrepeatRepeater(e)}function gfRepeater_setRepeater(e,t){var r=gfRepeater_repeaters[e].data.repeatCount;if(t!=r)if(t>r){var a=t-r;gfRepeater_repeatRepeaterTimes(e,a)}else if(r>t){var a=r-t;gfRepeater_unrepeatRepeaterTimes(e,a)}}function gfRepeater_updateRepeaterControls(e){gfRepeater_repeaters[e].settings.max&&(gfRepeater_repeaters[e].data.repeatCount>=gfRepeater_repeaters[e].settings.max?jQuery(gfRepeater_repeaters[e].controllers.add).hide():jQuery(gfRepeater_repeaters[e].controllers.add).show()),gfRepeater_repeaters[e].data.repeatCount<=gfRepeater_repeaters[e].settings.min?jQuery(gfRepeater_repeaters[e].controllers.remove).hide():jQuery(gfRepeater_repeaters[e].controllers.remove).show()}function gfRepeater_resetInputs(e,t,r){jQuery.each(gfRepeater_repeaters[e].children[t].inputs,function(e,t){var a=this.id,p=this.name,n=this.defaultValue,i=gfRepeater_findElementByIdOrName(r,a,p);i&&gfRepeater_setInputValue(i,n)})}function gfRepeater_findElementByIdOrName(e,t,r){if(r)var a=jQuery(e).find("[name^='"+r+"']");if(!a&&t)var a=jQuery(e).find("[id^='"+t+"']");return a?a:!1}function gfRepeater_getInputValue(e){return e.is(":checkbox, :radio")?1==e.prop("checked")?!0:!1:e.val()}function gfRepeater_setInputValue(e,t){e.is(":checkbox, :radio")?t?e.prop("checked",!0):e.prop("checked",!1):e.val(t)}function gfRepeater_updateDataElement(e){var t=jQuery(gfRepeater_repeaters[e].controllers.data),r=JSON.stringify({repeaterId:e,repeatCount:gfRepeater_repeaters[e].data.repeatCount,inputData:gfRepeater_repeaters[e].data.inputData});jQuery(t).val(r)}function gfRepeater_start(){jQuery.each(gfRepeater_repeaters,function(e,t){var r=e,a=this.settings.start,p=this.data.paremCount;this.controllers.data.attr("data-required")&&this.controllers.start.addClass("gfield_contains_required"),jQuery.each(gfRepeater_repeaters[r].children,function(e,t){gfRepeater_setRepeaterChildAttrs(jQuery(gfRepeater_repeaters[r].children[e].element),r,1)}),gfRepeater_submitted?a=this.data.prevRepeatCount:p>a&&(a=p),gfRepeater_setRepeater(r,a),gfRepeater_updateRepeaterControls(r)}),window.gformInitDatepicker&&gformInitDatepicker()}function gfRepeater_patchMask(){var e=jQuery.fn.mask;jQuery.fn.mask=function(t){return jQuery(this.get(0)).attr("data-mask",t),e.apply(this,arguments)}}var gfRepeater_debug=!1,gfRepeater_repeaters={},gfRepeater_submitted=!1;jQuery(window).load(function(){gfRepeater_getRepeaters()?gfRepeater_start():console.log("There was an error with one of your repeaters. This is usually caused by forgetting to include a repeater-end field or by trying to nest repeaters.")}),jQuery(document).ready(function(e){gfRepeater_patchMask(),jQuery(".gform_wrapper form").capture(),jQuery.captures()&&(gfRepeater_submitted=!0)}),gfRepeater_debug&&jQuery(window).keydown(function(e){38==e.which&&console.log(gfRepeater_repeaters),40==e.which&&console.log(jQuery.captures())});