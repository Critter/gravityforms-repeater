function gfRepeater_editforms_getRepeaters(){var e,r=0,t=0,i=[],d=[];return jQuery(".gfield").each(function(){if(0==r)jQuery(this).has(".gf-repeater-start").length&&(t+=1,gfRepeater_debug&&console.log("Repeater #"+t+" - Start: "+jQuery(this).attr("id")),e=this.id,r=1);else{if(jQuery(this).has(".gf-repeater-start").length)return!1;jQuery(this).has(".gf-repeater-end").length?(gfRepeater_debug&&console.log("Repeater #"+t+" - End: "+jQuery(this).attr("id")),gfRepeater_repeaters[t]={startId:e,childrenIds:d,children:i},i=[],d=[],r=0):(i.push(this),d.push(this.id),gfRepeater_debug&&console.log("Repeater #"+t+" - Child #"+i.length+" - Found: "+this.id))}}),0!==r?!1:!0}function gfRepeater_getId(e){return e.substr(6)}function gfRepeater_getField(e){var r=gfRepeater_getId(e);return GetFieldById(r)}function gfRepeater_editforms_getRepeaterId(e){return jQuery.each(gfRepeater_repeaters,function(r){return jQuery.inArray(e,this.childrenIds)?r:void 0}),!1}function gfRepeater_editforms_updateRequired(e){gfRepeater_editforms_getRepeaters()&&(UpdateFormObject(),jQuery.each(gfRepeater_repeaters,function(r){var t=gfRepeater_getField(this.startId),i=[];jQuery.each(this.children,function(r,t){var d=gfRepeater_getId(t.id),a=gfRepeater_getField(t.id),u=a.isRequired,g=a.repeaterField_isRequired;gfRepeater_debug&&console.log(t.id+" - Before Filter - isRequired:"+a.isRequired+" - repeaterField_isRequired:"+a.repeaterField_isRequired),u&&e&&(a.isRequired=!1,a.repeaterField_isRequired=!0,i.push(d),gfRepeater_debug&&console.log(t.id+" - Used Filter 1")),!u&&e&&(a.repeaterField_isRequired=!1,gfRepeater_debug&&console.log(t.id+" - Used Filter 2")),g&&!e&&(jQuery(this).find(".gfield_required").html("*"),a.isRequired=!0,a.repeaterField_isRequired=!1,gfRepeater_debug&&console.log(t.id+" - Used Filter 3")),g||e||(jQuery(this).find(".gfield_required").html(""),a.isRequired=!1,gfRepeater_debug&&console.log(t.id+" - Used Filter 4")),gfRepeater_debug&&console.log(t.id+" - After Filter - isRequired:"+a.isRequired+" - repeaterField_isRequired:"+a.repeaterField_isRequired)}),t.repeaterRequiredChildren=i}))}function gfRepeater_editforms_updateUpdateButton(){var e=jQuery("#floatMenu input.update-form"),r=e.attr("onclick"),t="gfRepeater_editforms_updateRequired(true);",i=t+r;e.attr("onclick",i)}var gfRepeater_debug=!1,gfRepeater_repeaters={},gfRepeater_page=gf_repeater_js_admin_strings.page;jQuery(document).ready(function(){"gf_edit_forms"==gfRepeater_page&&(gfRepeater_editforms_updateRequired(!1),gfRepeater_editforms_updateUpdateButton())}),gfRepeater_debug&&jQuery(window).keydown(function(e){38==e.which&&console.log(gfRepeater_repeaters)});